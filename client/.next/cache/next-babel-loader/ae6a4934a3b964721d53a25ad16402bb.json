{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/tema/projects/sana-landing-ts/blog/src/pages/index/index.tsx\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { PureComponent } from \"react\";\nimport VideoThumb from \"../components/video-thumbnail\";\nimport { getSlugUrl } from '../utils/url';\nimport SEO from \"../components/seo\";\nvar pageTitle = \"Portfolio\";\n\nfunction sortVideos(edges) {\n  return edges.sort(function (a, b) {\n    if (a.node.orderby > b.node.orderby) return 1;\n    if (a.node.orderby < b.node.orderby) return -1;\n    return 0;\n  });\n}\n\nvar videoExtension = \"webm\";\n\nif (typeof document !== \"undefined\" && true) {\n  var body = document.body,\n      timer;\n  window.addEventListener(\"scroll\", function () {\n    clearTimeout(timer);\n\n    if (!body.classList.contains(\"disable-hover\")) {\n      body.classList.add(\"disable-hover\");\n    }\n\n    timer = setTimeout(function () {\n      body.classList.remove(\"disable-hover\");\n    }, 500);\n  }, false);\n}\n\nvar Portfolio = /*#__PURE__*/function (_PureComponent) {\n  _inherits(Portfolio, _PureComponent);\n\n  var _super = _createSuper(Portfolio);\n\n  function Portfolio(props) {\n    var _this;\n\n    _classCallCheck(this, Portfolio);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"getVideoWebmImg\", function (video) {\n      var localImage = _this.state.images[video.local_image_name];\n\n      if (localImage) {\n        return [localImage.webm, localImage.img];\n      }\n\n      return [video.image_url, video.image_url];\n    });\n\n    _this.state = {\n      images: props.data.allFile.edges.reduce(function (acc, next) {\n        var node = next.node;\n\n        if (!acc[node.name]) {\n          acc[node.name] = {};\n        }\n\n        var fileext = node.extension === videoExtension ? videoExtension : \"img\";\n        return _objectSpread(_objectSpread({}, acc), {}, _defineProperty({}, node.name, _objectSpread(_objectSpread({}, acc[node.name]), {}, _defineProperty({}, fileext, node.publicURL))));\n      }, {})\n    };\n    return _this;\n  }\n\n  _createClass(Portfolio, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var videos = sortVideos(this.props.data.allStrapiVideo.edges);\n      var thumbClass = \"thumbnails-container\";\n      return __jsx(React.Fragment, null, __jsx(SEO, {\n        lang: \"en\",\n        title: pageTitle,\n        description: \"Portfolio main page\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 9\n        }\n      }), __jsx(\"div\", {\n        className: thumbClass,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }\n      }, videos.map(function (_ref, idx) {\n        var item = _ref.node;\n\n        var _this2$getVideoWebmIm = _this2.getVideoWebmImg(item),\n            _this2$getVideoWebmIm2 = _slicedToArray(_this2$getVideoWebmIm, 2),\n            webm = _this2$getVideoWebmIm2[0],\n            img = _this2$getVideoWebmIm2[1];\n\n        return __jsx(Link, {\n          key: \"\".concat(idx).concat(item.title),\n          to: \"/videos/\".concat(getSlugUrl(item.title)),\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 17\n          }\n        }, \"\\\"sdfsdf\\\" asdfasdf\", __jsx(VideoThumb, {\n          id: idx,\n          imgUrl: img,\n          webmUrl: webm,\n          name: item.title,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 19\n          }\n        }));\n      })));\n    }\n  }]);\n\n  return Portfolio;\n}(PureComponent);\n\nexport default Portfolio;","map":{"version":3,"sources":["/home/tema/projects/sana-landing-ts/blog/src/pages/index/index.tsx"],"names":["React","PureComponent","VideoThumb","getSlugUrl","SEO","pageTitle","sortVideos","edges","sort","a","b","node","orderby","videoExtension","document","body","timer","window","addEventListener","clearTimeout","classList","contains","add","setTimeout","remove","Portfolio","props","video","localImage","state","images","local_image_name","webm","img","image_url","data","allFile","reduce","acc","next","name","fileext","extension","publicURL","videos","allStrapiVideo","thumbClass","map","idx","item","getVideoWebmImg","title"],"mappings":"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","sourcesContent":["import React, { PureComponent } from \"react\"\nimport VideoThumb from \"../components/video-thumbnail\"\nimport { getSlugUrl } from '../utils/url'\n\nimport SEO from \"../components/seo\"\n\nconst pageTitle = \"Portfolio\"\n\nimport style from \"./style.module.css\"\n\nfunction sortVideos(edges) {\n  return edges.sort((a, b) => {\n    if (a.node.orderby > b.node.orderby) return 1\n    if (a.node.orderby < b.node.orderby) return -1\n    return 0\n  })\n}\n\nconst videoExtension = \"webm\"\n\nif (typeof document !== \"undefined\" && typeof window !== \"undefined\") {\n  var body = document.body,\n    timer\n\n  window.addEventListener(\n    \"scroll\",\n    function () {\n      clearTimeout(timer)\n      if (!body.classList.contains(\"disable-hover\")) {\n        body.classList.add(\"disable-hover\")\n      }\n\n      timer = setTimeout(function () {\n        body.classList.remove(\"disable-hover\")\n      }, 500)\n    },\n    false\n  )\n}\n\nclass Portfolio extends PureComponent {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      images: props.data.allFile.edges.reduce((acc, next) => {\n        const { node } = next\n\n        if (!acc[node.name]) {\n          acc[node.name] = {}\n        }\n\n        const fileext =\n          node.extension === videoExtension ? videoExtension : \"img\"\n\n        return {\n          ...acc,\n          [node.name]: { ...acc[node.name], [fileext]: node.publicURL },\n        }\n      }, {}),\n    }\n  }\n\n  getVideoWebmImg = video => {\n    const localImage = this.state.images[video.local_image_name]\n    if (localImage) {\n      return [localImage.webm, localImage.img]\n    }\n\n    return [video.image_url, video.image_url]\n  }\n\n  render() {\n    const videos = sortVideos(this.props.data.allStrapiVideo.edges)\n\n    const thumbClass = \"thumbnails-container\"\n\n    return (\n      <>\n        <SEO lang=\"en\" title={pageTitle} description={\"Portfolio main page\"} />\n          <div className={thumbClass}>\n            {videos.map(({ node: item }, idx) => {\n              const [webm, img] = this.getVideoWebmImg(item)\n\n              return (\n                <Link key={`${idx}${item.title}`} to={`/videos/${getSlugUrl(item.title)}`}>\n                  \"sdfsdf\"\n                  asdfasdf\n                  <VideoThumb\n                    id={idx}\n                    imgUrl={img}\n                    webmUrl={webm}\n                    name={item.title}\n                  />\n                </Link>\n              )\n            })}\n          </div>\n      </>\n    )\n  }\n}\n\nexport default Portfolio"]},"metadata":{},"sourceType":"module"}