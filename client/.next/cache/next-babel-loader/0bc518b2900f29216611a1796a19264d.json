{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"/home/tema/projects/sana-landing-ts/blog/src/pages/index.tsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from \"react\";\nimport VideoThumb from \"../components/video-thumbnail\";\nimport { getSlugUrl } from '../utils/url';\nimport { api } from '../api/api';\nimport SEO from \"../components/seo\";\nimport Link from 'next/link';\nimport style from \"./style.module.css\";\nvar pageTitle = \"Portfolio\";\n\nfunction sortVideos(edges) {\n  return edges.sort(function (a, b) {\n    if (a.node.orderby > b.node.orderby) return 1;\n    if (a.node.orderby < b.node.orderby) return -1;\n    return 0;\n  });\n}\n\nvar videoExtension = \"webm\";\n\nif (typeof document !== \"undefined\" && true) {\n  var body = document.body,\n      timer;\n  window.addEventListener(\"scroll\", function () {\n    clearTimeout(timer);\n\n    if (!body.classList.contains(\"disable-hover\")) {\n      body.classList.add(\"disable-hover\");\n    }\n\n    timer = setTimeout(function () {\n      body.classList.remove(\"disable-hover\");\n    }, 500);\n  }, false);\n}\n\nvar Portfolio = function Portfolio(props) {\n  _s();\n\n  var _useState = useState([]),\n      videos = _useState[0],\n      setVideos = _useState[1];\n\n  function fetchVideos() {\n    return _fetchVideos.apply(this, arguments);\n  }\n\n  function _fetchVideos() {\n    _fetchVideos = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var videos;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return api.get('/videos');\n\n            case 2:\n              videos = _context.sent;\n              setVideos(videos.data);\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _fetchVideos.apply(this, arguments);\n  }\n\n  useEffect(function () {\n    fetchVideos();\n  }, []); // const videos = sortVideos(this.props.data.allStrapiVideo.edges)\n\n  return __jsx(React.Fragment, null, __jsx(SEO, {\n    lang: \"en\",\n    title: pageTitle,\n    description: \"Portfolio main page\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }), __jsx(\"div\", {\n    className: style.thumbnails_container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }, videos.map(function (_ref, idx) {\n    var imgUrl = _ref.imgUrl,\n        webmUrl = _ref.webmUrl,\n        title = _ref.title;\n    return __jsx(Link, {\n      key: \"\".concat(idx).concat(title),\n      href: \"/videos/\".concat(getSlugUrl(title)),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }\n    }, __jsx(\"a\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 15\n      }\n    }, __jsx(VideoThumb, {\n      id: idx,\n      imgUrl: imgUrl,\n      webmUrl: webmUrl,\n      name: title,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }\n    })));\n  })));\n};\n\n_s(Portfolio, \"39g9r2hk3cJXA16k+db4Z3Rqykw=\");\n\n_c = Portfolio;\nexport default Portfolio;\n\nvar _c;\n\n$RefreshReg$(_c, \"Portfolio\");","map":{"version":3,"sources":["/home/tema/projects/sana-landing-ts/blog/src/pages/index.tsx"],"names":["React","useState","useEffect","VideoThumb","getSlugUrl","api","SEO","Link","style","pageTitle","sortVideos","edges","sort","a","b","node","orderby","videoExtension","document","body","timer","window","addEventListener","clearTimeout","classList","contains","add","setTimeout","remove","Portfolio","props","videos","setVideos","fetchVideos","get","data","thumbnails_container","map","idx","imgUrl","webmUrl","title"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\"\nimport VideoThumb from \"../components/video-thumbnail\"\nimport { getSlugUrl } from '../utils/url'\nimport { api} from '../api/api'\n\nimport SEO from \"../components/seo\"\n\nimport Link from 'next/link'\n\nimport style from \"./style.module.css\"\n\nconst pageTitle = \"Portfolio\"\n\nfunction sortVideos(edges) {\n  return edges.sort((a, b) => {\n    if (a.node.orderby > b.node.orderby) return 1\n    if (a.node.orderby < b.node.orderby) return -1\n    return 0\n  })\n}\n\nconst videoExtension = \"webm\"\n\nif (typeof document !== \"undefined\" && typeof window !== \"undefined\") {\n  let body = document.body,\n    timer\n\n  window.addEventListener(\n    \"scroll\",\n    function () {\n      clearTimeout(timer)\n      if (!body.classList.contains(\"disable-hover\")) {\n        body.classList.add(\"disable-hover\")\n      }\n\n      timer = setTimeout(function () {\n        body.classList.remove(\"disable-hover\")\n      }, 500)\n    },\n    false\n  )\n}\n\ntype Props = {\n\n}\n\n\nconst Portfolio: React.FC<Props> = (props) => {\n  const [videos, setVideos] = useState([]);\n\n  async function fetchVideos() {\n    const videos = await api.get('/videos');\n\n    setVideos(videos.data)\n  }\n\n  useEffect(() => {\n      fetchVideos()\n  }, [])\n\n  // const videos = sortVideos(this.props.data.allStrapiVideo.edges)\n\n  return (\n    <>\n      <SEO lang=\"en\" title={pageTitle} description={\"Portfolio main page\"} />\n      <div className={ style.thumbnails_container}>\n        {videos.map(({ imgUrl, webmUrl, title }, idx) => {\n\n          return (\n            <Link key={`${idx}${title}`} href={`/videos/${getSlugUrl(title)}`}>\n              <a>\n                <VideoThumb\n                  id={idx}\n                  imgUrl={imgUrl}\n                  webmUrl={webmUrl}\n                  name={title}\n                />\n              </a>\n            </Link>\n          )\n        })}\n      </div>\n    </>\n  )\n}\n\nexport default Portfolio"]},"metadata":{},"sourceType":"module"}