{"ast":null,"code":"var _jsxFileName = \"/home/tema/projects/sana-landing-ts/blog/src/contexts/photo.tsx\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { createContext } from \"react\";\nimport React from \"react\";\n\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nconst noop = () => {};\n\nconst defaultState = {\n  previousQueries: [],\n  favoritePhotos: new Map()\n};\n\nconst defaultProps = _objectSpread(_objectSpread({}, defaultState), {}, {\n  addQuery: noop,\n  addFavoritePhoto: noop,\n  removeFavoritePhoto: noop,\n  isPhotoFavorite: () => false\n});\n\nconst PhotoContext = /*#__PURE__*/createContext(defaultProps);\n\nclass PhotoContextWrapper extends React.PureComponent {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", defaultState);\n\n    _defineProperty(this, \"addQuery\", query => {\n      const prevQueries = [...this.state.previousQueries];\n      prevQueries.push(query);\n      this.setState({\n        previousQueries: prevQueries\n      });\n    });\n\n    _defineProperty(this, \"addFavoritePhoto\", photo => {\n      const favoritePhotos = new Map(this.state.favoritePhotos);\n      favoritePhotos.set(photo.id, photo);\n      this.setState({\n        favoritePhotos\n      });\n    });\n\n    _defineProperty(this, \"removeFavoritePhoto\", photo => {\n      const favoritePhotos = new Map(this.state.favoritePhotos);\n      favoritePhotos.delete(photo.id);\n      this.setState({\n        favoritePhotos\n      });\n    });\n\n    _defineProperty(this, \"isPhotoFavorite\", photo => {\n      return this.state.favoritePhotos.has(photo.id);\n    });\n  }\n\n  get photoContextProps() {\n    return _objectSpread(_objectSpread({}, this.state), {}, {\n      addQuery: this.addQuery,\n      addFavoritePhoto: this.addFavoritePhoto,\n      removeFavoritePhoto: this.removeFavoritePhoto,\n      isPhotoFavorite: this.isPhotoFavorite\n    });\n  }\n\n  render() {\n    return __jsx(PhotoContext.Provider, {\n      value: this.photoContextProps,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 7\n      }\n    }, this.props.children);\n  }\n\n}\n\nexport { PhotoContext, PhotoContextWrapper, defaultState };","map":{"version":3,"sources":["/home/tema/projects/sana-landing-ts/blog/src/contexts/photo.tsx"],"names":["createContext","React","noop","defaultState","previousQueries","favoritePhotos","Map","defaultProps","addQuery","addFavoritePhoto","removeFavoritePhoto","isPhotoFavorite","PhotoContext","PhotoContextWrapper","PureComponent","query","prevQueries","state","push","setState","photo","set","id","delete","has","photoContextProps","render","props","children"],"mappings":";;;;;;;;;AAAA,SAASA,aAAT,QAA8B,OAA9B;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAGA;AACA,MAAMC,IAAI,GAAG,MAAY,CAAE,CAA3B;;AAcA,MAAMC,YAA+B,GAAG;AACtCC,EAAAA,eAAe,EAAE,EADqB;AAEtCC,EAAAA,cAAc,EAAE,IAAIC,GAAJ;AAFsB,CAAxC;;AAKA,MAAMC,YAA+B,mCAChCJ,YADgC;AAEnCK,EAAAA,QAAQ,EAAEN,IAFyB;AAGnCO,EAAAA,gBAAgB,EAAEP,IAHiB;AAInCQ,EAAAA,mBAAmB,EAAER,IAJc;AAKnCS,EAAAA,eAAe,EAAE,MAAM;AALY,EAArC;;AAQA,MAAMC,YAAY,gBAAGZ,aAAa,CAAoBO,YAApB,CAAlC;;AAEA,MAAMM,mBAAN,SAAkCZ,KAAK,CAACa,aAAxC,CAAsD;AAAA;AAAA;;AAAA,mCACzBX,YADyB;;AAAA,sCAIxCY,KAAD,IAAmB;AAC5B,YAAMC,WAAW,GAAG,CAAC,GAAG,KAAKC,KAAL,CAAWb,eAAf,CAApB;AACAY,MAAAA,WAAW,CAACE,IAAZ,CAAiBH,KAAjB;AAEA,WAAKI,QAAL,CAAc;AAAEf,QAAAA,eAAe,EAAEY;AAAnB,OAAd;AACD,KATmD;;AAAA,8CAWhCI,KAAD,IAAmC;AACpD,YAAMf,cAAc,GAAG,IAAIC,GAAJ,CAAQ,KAAKW,KAAL,CAAWZ,cAAnB,CAAvB;AAEAA,MAAAA,cAAc,CAACgB,GAAf,CAAmBD,KAAK,CAACE,EAAzB,EAA6BF,KAA7B;AAEA,WAAKD,QAAL,CAAc;AAAEd,QAAAA;AAAF,OAAd;AACD,KAjBmD;;AAAA,iDAmB7Be,KAAD,IAAoC;AACxD,YAAMf,cAAc,GAAG,IAAIC,GAAJ,CAAQ,KAAKW,KAAL,CAAWZ,cAAnB,CAAvB;AAEAA,MAAAA,cAAc,CAACkB,MAAf,CAAsBH,KAAK,CAACE,EAA5B;AAEA,WAAKH,QAAL,CAAc;AAAEd,QAAAA;AAAF,OAAd;AACD,KAzBmD;;AAAA,6CA2BjCe,KAAD,IAAuC;AACvD,aAAO,KAAKH,KAAL,CAAWZ,cAAX,CAA0BmB,GAA1B,CAA8BJ,KAAK,CAACE,EAApC,CAAP;AACD,KA7BmD;AAAA;;AA+BpD,MAAIG,iBAAJ,GAA2C;AACzC,2CACK,KAAKR,KADV;AAEET,MAAAA,QAAQ,EAAE,KAAKA,QAFjB;AAGEC,MAAAA,gBAAgB,EAAE,KAAKA,gBAHzB;AAIEC,MAAAA,mBAAmB,EAAE,KAAKA,mBAJ5B;AAKEC,MAAAA,eAAe,EAAE,KAAKA;AALxB;AAOD;;AAEDe,EAAAA,MAAM,GAAG;AACP,WACE,MAAC,YAAD,CAAc,QAAd;AAAuB,MAAA,KAAK,EAAE,KAAKD,iBAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKE,KAAL,CAAWC,QADd,CADF;AAKD;;AA/CmD;;AAkDtD,SAAShB,YAAT,EAAuBC,mBAAvB,EAA4CV,YAA5C","sourcesContent":["import { createContext } from \"react\";\nimport React from \"react\";\nimport { UnsplashApiPhoto } from \"../types/unsplash\";\n\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nconst noop = (): void => {};\n\ninterface PhotoContextState {\n  previousQueries: Array<string>;\n  favoritePhotos: Map<string, UnsplashApiPhoto>;\n}\n\ninterface PhotoContextProps extends PhotoContextState {\n  addQuery: (query: string) => void;\n  addFavoritePhoto: (photo: UnsplashApiPhoto) => void;\n  removeFavoritePhoto: (photo: UnsplashApiPhoto) => void;\n  isPhotoFavorite: (photo: UnsplashApiPhoto) => boolean;\n}\n\nconst defaultState: PhotoContextState = {\n  previousQueries: [],\n  favoritePhotos: new Map()\n};\n\nconst defaultProps: PhotoContextProps = {\n  ...defaultState,\n  addQuery: noop,\n  addFavoritePhoto: noop,\n  removeFavoritePhoto: noop,\n  isPhotoFavorite: () => false\n};\n\nconst PhotoContext = createContext<PhotoContextProps>(defaultProps);\n\nclass PhotoContextWrapper extends React.PureComponent {\n  state: PhotoContextState = defaultState;\n\n  // eslint-disable-next-line @typescript-eslint/explicit-function-return-type\n  addQuery = (query: string) => {\n    const prevQueries = [...this.state.previousQueries];\n    prevQueries.push(query);\n\n    this.setState({ previousQueries: prevQueries });\n  };\n\n  addFavoritePhoto = (photo: UnsplashApiPhoto): void => {\n    const favoritePhotos = new Map(this.state.favoritePhotos);\n\n    favoritePhotos.set(photo.id, photo);\n\n    this.setState({ favoritePhotos });\n  };\n\n  removeFavoritePhoto = (photo: UnsplashApiPhoto): void  => {\n    const favoritePhotos = new Map(this.state.favoritePhotos);\n\n    favoritePhotos.delete(photo.id);\n\n    this.setState({ favoritePhotos });\n  };\n\n  isPhotoFavorite = (photo: UnsplashApiPhoto): boolean  => {\n    return this.state.favoritePhotos.has(photo.id);\n  };\n\n  get photoContextProps(): PhotoContextProps {\n    return {\n      ...this.state,\n      addQuery: this.addQuery,\n      addFavoritePhoto: this.addFavoritePhoto,\n      removeFavoritePhoto: this.removeFavoritePhoto,\n      isPhotoFavorite: this.isPhotoFavorite\n    };\n  }\n\n  render() {\n    return (\n      <PhotoContext.Provider value={this.photoContextProps}>\n        {this.props.children}\n      </PhotoContext.Provider>\n    );\n  }\n}\n\nexport { PhotoContext, PhotoContextWrapper, defaultState };\n"]},"metadata":{},"sourceType":"module"}